<!DOCTYPE html>
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <style media="screen">
      div {
        width: 100px;
        height: 100px;
        background-color: #a1a1a1;
        margin: 100px;
        border: 2px solid black;
      }
      section {
        margin: 30px;
      }
    </style>
  </head>
  <body>
    <section>
      <div class="">

      </div>
    </section>

    <script type="text/javascript">
      var _div = document.querySelector('div');
      var getDirection = function(ev, obj) {
        console.log("obj.offsetWidth = " + obj.offsetWidth);
        console.log("obj.offsetHeight = " + obj.offsetHeight);
        console.log("obj.clientWidth = " + obj.clientWidth);
        console.log("obj.clientHeight = " + obj.clientHeight);
        console.log("obj.offsetLeft = " + obj.offsetLeft);
        console.log("obj.offsetTop = " + obj.offsetTop);
        var w = obj.offsetWidth,
            h = obj.offsetHeight,
            x = (ev.pageX - obj.offsetLeft - (w / 2) * (w > h ? (h / w) : 1)),
            y = (ev.pageY - obj.offsetTop - (h / 2) * (h > w ? (w / h) : 1));
            console.log( Math.atan2(y, x) / 1.57079633);
            d = Math.round( Math.atan2(y, x) / 1.57079633 + 5 ) % 4;

        return d;
      }
      _div.addEventListener("mouseover", function(ev) {
        var d = getDirection(ev, this);
        console.log(d);
      }, false);
      console.log(0%4);
    </script>
  </body>
</html>
